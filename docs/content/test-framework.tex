%----------------------------------------------------------------------------
\chapter{Test Framework}
%----------------------------------------------------------------------------

%----------------------------------------------------------------------------
\section{Design}
%----------------------------------------------------------------------------

\begin{itemize}
	\item why is a framework needed
	\item test framework architecture
	\item what is the test objective?
	\item what to test? - dependability metrics! - which ones?, how?
	\item need to monitor the application metrics, state --> need for monitoring system
	\item Test environment locally or in cloud
	\item how does running tests affect the result
\end{itemize}

%----------------------------------------------------------------------------
\subsection{Requirements}
%----------------------------------------------------------------------------

\begin{itemize}
	\item Reproducible
	\item Automated
	\item Configurable
	\item Introduce abstract workflow \begin{enumerate}
		\item Prepare infrastructure and application
		\item Generate load
		\item Inject faults
		\item Collect metrics
		\item Store results
	\end{enumerate}
\end{itemize}

%----------------------------------------------------------------------------
\subsection{Architecture}
%----------------------------------------------------------------------------


\begin{itemize}
	\item architecture DIAGRAM
	\item describe what each component does
\end{itemize}


%----------------------------------------------------------------------------
\subsection{Load generation}
%----------------------------------------------------------------------------

\begin{itemize}
	\item send HTTP requests to the backend according to pattern (uniform distribution)
\end{itemize}


%----------------------------------------------------------------------------
\subsection{Fault Injection}
%----------------------------------------------------------------------------

\begin{itemize}
	\item inject faults on different levels (Pod, Network, CPU, Memory)
	\item periodic fault injection
\end{itemize}


%----------------------------------------------------------------------------
\subsubsection{Fault Profiles}
%----------------------------------------------------------------------------

\begin{itemize}
	\item list fault profiles and justification
\end{itemize}


%----------------------------------------------------------------------------
\subsection{Monitoring / Measurement}
%----------------------------------------------------------------------------


%----------------------------------------------------------------------------
\subsection{Measurement Sequence}
%----------------------------------------------------------------------------

is it rather an implementation only section?

\begin{itemize}
	\item what is the purpose of this
\end{itemize}

%----------------------------------------------------------------------------
\section{Implementation}
%----------------------------------------------------------------------------

\begin{itemize}
	\item AWS infrastructure
	\item CF template
\end{itemize}

%----------------------------------------------------------------------------
\subsection{Load generation}
%----------------------------------------------------------------------------

\begin{itemize}
	\item locust
	\item usermodel
	\item parameterization
\end{itemize}

%----------------------------------------------------------------------------
\subsection{Fault Injection}
%----------------------------------------------------------------------------

\begin{itemize}
	\item deploy Chaos Mesh
	\item define chaos experiments according to fault profiles (show one as example)
	\item describe the usage of helm to deploy faults
\end{itemize}

%----------------------------------------------------------------------------
\subsection{Measurement} \label{measurement-impl}
%----------------------------------------------------------------------------

\begin{itemize}
	\item Deploy tools \begin{itemize}
		\item Prometheus
		\item Prometheus Adapter
		\item Promethues Blackbox Exporter
		\item Grafana
	\end{itemize}
	\item prometheus annotations, scrape config
\end{itemize}

%----------------------------------------------------------------------------
\subsubsection{Metrics}
%----------------------------------------------------------------------------

\begin{itemize}
	
	\item dependability metrics in PromQL
\end{itemize}







%----------------------------------------------------------------------------
\subsection{Kubedepend}
%----------------------------------------------------------------------------

\begin{itemize}
	\item what it is used for?
	\item facilitates automatic load generation, fault injection, collecting results
	\item describe its workflow
	\item purpose of waiting for stable system state
	\item prometheus metrics
	\item parameters (click)
\end{itemize}

%----------------------------------------------------------------------------
\subsection{CI/CD Pipeline} \label{cicd}
%----------------------------------------------------------------------------

\begin{itemize}
	\item Steps and what do they do
	\item image about jenkins pipeline steps
	\item parameters - passed to kubedepend
\end{itemize}